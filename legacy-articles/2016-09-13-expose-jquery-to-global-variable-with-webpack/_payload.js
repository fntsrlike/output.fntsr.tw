export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax){return {data:{"content-query-qhcNn0pY0a":{_path:"\u002Flegacy-articles\u002F2016-09-13-expose-jquery-to-global-variable-with-webpack",_dir:"legacy-articles",_draft:z,_partial:z,_locale:"en",_empty:z,title:I,description:f,excerpt:{type:J,children:[{type:a,tag:d,props:{},children:[{type:a,tag:i,props:{href:K,rel:[j]},children:[{type:b,value:L}]}]},{type:a,tag:l,props:{id:n},children:[{type:b,value:n}]},{type:a,tag:d,props:{},children:[{type:b,value:M}]},{type:a,tag:d,props:{},children:[{type:b,value:N}]},{type:a,tag:l,props:{id:o},children:[{type:b,value:o}]},{type:a,tag:d,props:{},children:[{type:b,value:O}]},{type:a,tag:c,props:{code:A},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:b,value:A}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:P},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:w}]},{type:a,tag:c,props:{code:B},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:b,value:B}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:Q},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:w}]},{type:a,tag:c,props:{code:C},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:b,value:C}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:R},{type:a,tag:e,props:{},children:[{type:b,value:q}]},{type:b,value:r},{type:a,tag:e,props:{},children:[{type:b,value:s}]},{type:b,value:S},{type:a,tag:e,props:{},children:[{type:b,value:T}]},{type:b,value:U}]},{type:a,tag:l,props:{id:t},children:[{type:b,value:t}]},{type:a,tag:d,props:{},children:[{type:b,value:V}]},{type:a,tag:d,props:{},children:[{type:b,value:W}]},{type:a,tag:c,props:{code:D},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:b,value:D}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:X},{type:a,tag:i,props:{href:Y,rel:[j]},children:[{type:b,value:Z}]},{type:b,value:_},{type:a,tag:e,props:{},children:[{type:b,value:q}]},{type:b,value:r},{type:a,tag:e,props:{},children:[{type:b,value:s}]},{type:b,value:$},{type:a,tag:e,props:{},children:[{type:b,value:x}]},{type:b,value:aa}]},{type:a,tag:c,props:{code:E},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:b,value:E}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:ab}]},{type:a,tag:c,props:{code:F},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:b,value:F}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:ac},{type:a,tag:e,props:{},children:[{type:b,value:x}]},{type:b,value:ad},{type:a,tag:e,props:{},children:[{type:b,value:q}]},{type:b,value:r},{type:a,tag:e,props:{},children:[{type:b,value:s}]},{type:b,value:ae}]},{type:a,tag:c,props:{code:G},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:b,value:G}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:af},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:ag}]},{type:a,tag:c,props:{code:H},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:b,value:H}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:ah}]},{type:a,tag:l,props:{id:u},children:[{type:b,value:u}]},{type:a,tag:y,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:i,props:{href:ai,rel:[j]},children:[{type:b,value:aj}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:i,props:{href:ak,rel:[j]},children:[{type:b,value:al}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:i,props:{href:am,rel:[j]},children:[{type:b,value:an}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:i,props:{href:ao,rel:[j]},children:[{type:b,value:ap}]}]}]},{type:a,tag:aq,props:{},children:[]},{type:a,tag:y,props:{},children:[{type:a,tag:k,props:{},children:[{type:b,value:ar},{type:a,tag:i,props:{href:as,rel:[j]},children:[{type:a,tag:at,props:{alt:au,src:av},children:[]}]}]}]}]},title_en:aw,slug:"expose-jquery-to-global-variable-with-webpack",aliases:[I,aw],created_at:"2016-09-13T14:19:24.000Z",published_at:ax,updated_at:ax,tags:[],moc:["Information Technology"],body:{type:J,children:[{type:a,tag:d,props:{},children:[{type:a,tag:i,props:{href:K,rel:[j]},children:[{type:b,value:L}]}]},{type:a,tag:l,props:{id:n},children:[{type:b,value:n}]},{type:a,tag:d,props:{},children:[{type:b,value:M}]},{type:a,tag:d,props:{},children:[{type:b,value:N}]},{type:a,tag:l,props:{id:o},children:[{type:b,value:o}]},{type:a,tag:d,props:{},children:[{type:b,value:O}]},{type:a,tag:c,props:{code:A},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:m},children:[{type:a,tag:h,props:{},children:[{type:b,value:"\u002F\u002F Error: no-duplicate-imports  'jquery' import is duplicated\nimport $ from 'jquery'\nimport jQuery from 'query'"}]}]}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:P},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:w}]},{type:a,tag:c,props:{code:B},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:m},children:[{type:a,tag:h,props:{},children:[{type:b,value:"\u002F\u002F Error: ReferenceError: Can't find variable: jQuery\nimport $ from 'jquery'\nvar jQuery = $"}]}]}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:Q},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:w}]},{type:a,tag:c,props:{code:C},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:m},children:[{type:a,tag:h,props:{},children:[{type:b,value:"\u002F\u002F Error: ReferenceError: Can't find variable: jQuery\nimport jquery from 'jquery'\n\nwindow.$ = jquery\nwindow.jQuery = jquery"}]}]}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:R},{type:a,tag:e,props:{},children:[{type:b,value:q}]},{type:b,value:r},{type:a,tag:e,props:{},children:[{type:b,value:s}]},{type:b,value:S},{type:a,tag:e,props:{},children:[{type:b,value:T}]},{type:b,value:U}]},{type:a,tag:l,props:{id:t},children:[{type:b,value:t}]},{type:a,tag:d,props:{},children:[{type:b,value:V}]},{type:a,tag:d,props:{},children:[{type:b,value:W}]},{type:a,tag:c,props:{code:D},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:m},children:[{type:a,tag:h,props:{},children:[{type:b,value:"npm install --save jquery"}]}]}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:X},{type:a,tag:i,props:{href:Y,rel:[j]},children:[{type:b,value:Z}]},{type:b,value:_},{type:a,tag:e,props:{},children:[{type:b,value:q}]},{type:b,value:r},{type:a,tag:e,props:{},children:[{type:b,value:s}]},{type:b,value:$},{type:a,tag:e,props:{},children:[{type:b,value:x}]},{type:b,value:aa}]},{type:a,tag:c,props:{code:E},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:m},children:[{type:a,tag:h,props:{},children:[{type:b,value:"plugins: [\n  \u002F\u002F other plugins\n  \u002F\u002F ...\n  new webpack.ProvidePlugin({\n     $: \"jquery\",\n     jQuery: \"jquery\"\n  })\n]"}]}]}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:ab}]},{type:a,tag:c,props:{code:F},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:m},children:[{type:a,tag:h,props:{},children:[{type:b,value:"npm install expose-loader --save"}]}]}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:ac},{type:a,tag:e,props:{},children:[{type:b,value:x}]},{type:b,value:ad},{type:a,tag:e,props:{},children:[{type:b,value:q}]},{type:b,value:r},{type:a,tag:e,props:{},children:[{type:b,value:s}]},{type:b,value:ae}]},{type:a,tag:c,props:{code:G},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:m},children:[{type:a,tag:h,props:{},children:[{type:b,value:"loaders: [\n  \u002F\u002F other loaders\n  \u002F\u002F ...\n  {\n    test: require.resolve('jquery'),\n    loader: 'expose?jQuery!expose?$'\n  }\n]"}]}]}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:af},{type:a,tag:e,props:{},children:[{type:b,value:p}]},{type:b,value:ag}]},{type:a,tag:c,props:{code:H},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{__ignoreMap:f},children:[{type:a,tag:h,props:{class:m},children:[{type:a,tag:h,props:{},children:[{type:b,value:"import 'jquery`"}]}]}]}]}]},{type:a,tag:d,props:{},children:[{type:b,value:ah}]},{type:a,tag:l,props:{id:u},children:[{type:b,value:u}]},{type:a,tag:y,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:i,props:{href:ai,rel:[j]},children:[{type:b,value:aj}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:i,props:{href:ak,rel:[j]},children:[{type:b,value:al}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:i,props:{href:am,rel:[j]},children:[{type:b,value:an}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:i,props:{href:ao,rel:[j]},children:[{type:b,value:ap}]}]}]},{type:a,tag:aq,props:{},children:[]},{type:a,tag:y,props:{},children:[{type:a,tag:k,props:{},children:[{type:b,value:ar},{type:a,tag:i,props:{href:as,rel:[j]},children:[{type:a,tag:at,props:{alt:au,src:av},children:[]}]}]}]}],toc:{title:f,searchDepth:v,depth:v,links:[{id:n,depth:v,text:n},{id:o,depth:v,text:o},{id:t,depth:v,text:t},{id:u,depth:v,text:u}]}},_type:"markdown",_id:"garden:legacy-articles:2016-09-13 -expose-jquery-to-global-variable-with-webpack.md",_source:"garden",_file:"legacy-articles\u002F2016-09-13 -expose-jquery-to-global-variable-with-webpack.md",_extension:"md"}},prerenderedAt:void 0}}("element","text","code","p","code-inline","","pre","span","a","nofollow","li","h2","line","前言","誤區","ReferenceError: Can't find variable: jQuery","$","、","jQuery","解法","參考資料",2," 的錯誤。","jquery","ol",false,"\u002F\u002F Error: no-duplicate-imports  'jquery' import is duplicated\nimport $ from 'jquery'\nimport jQuery from 'query'\n","\u002F\u002F Error: ReferenceError: Can't find variable: jQuery\nimport $ from 'jquery'\nvar jQuery = $\n","\u002F\u002F Error: ReferenceError: Can't find variable: jQuery\nimport jquery from 'jquery'\n\nwindow.$ = jquery\nwindow.jQuery = jquery\n","npm install --save jquery\n","plugins: [\n  \u002F\u002F other plugins\n  \u002F\u002F ...\n  new webpack.ProvidePlugin({\n     $: \"jquery\",\n     jQuery: \"jquery\"\n  })\n]\n","npm install expose-loader --save\n","loaders: [\n  \u002F\u002F other loaders\n  \u002F\u002F ...\n  {\n    test: require.resolve('jquery'),\n    loader: 'expose?jQuery!expose?$'\n  }\n]\n","import 'jquery`\n","讓 jQuery 在 webpack 中成為全域變數","root","http:\u002F\u002Fblog.fntsr.tw\u002Farticles\u002F363\u002F","讓 jQuery 在 webpack 中成為全域變數 - 深藏若虛","這兩三年，可謂前端技術更迭不斷、框架不斷推陳出新的尖峰時期，本來就比較沒有再碰前端技術、以及專注在碩士求學生涯的我也算是落後許多。在拿到碩士學位後，又重新開始投入 Web 開發，不斷學習新知，尤其是在前端技術方面。最近開始使用 webpack 做為 module bundler，這篇主要就是紀錄初期使用 webpack 時遇到的一個撞牆點。","儘管前端框架越來越多，angular.js、react.js 以及最近竄起的 vue.js 開始主導整個網頁前段的流程控制以及事件觸發，但是許多 CSS 框架仍是相依在 jQuery 上，且可能沒有對其他 JavaScript 框架有著完整的支援，所以在使用 JavaScript 框架之餘，仍需要使用 jQuery 作為驅動 CSS 框架的手段。最近開始嘗試使用 vue.js 與 webpack 的組合去做網站開發，在套用 semantic-ui 和 materialize 這兩門前端設計框架時，就遇到了找不到 jQuery 套件庫的錯誤，導致網站的 JavaScrit 程序被中斷，無法繼續執行下去。","依照 webpack 去引入 JavaScript 的套件，以為只要在 js 檔案中加入下面兩行程式碼即可。但首先遇到的就是 JSLint 發出重複 import 的錯誤，直接否決掉這個做法。","為了避開這個錯誤，改只有 import 一次，用變數賦值去改善這個問題。在引入 semantic-ui 或 materialize 時，仍然出現了 ","接著稍微 Google，有人提到要讓 jQuery 掛載 window 物件下成為全域變數，就可以解決問題了。所以嘗試以下面程式碼解決問題，但仍然得到 ","以上解法都失敗。目前對於 webpack 還不甚熟悉，只有在同一個檔案內的程式碼可以使用 "," 呼叫 jQuery，但若是 import 的 JavaScript 套件需要 jQuery 時就會找不到，在網頁開啟開發者工具區呼叫這兩個變數時也會找不到。推估是因為 webpack 對於每個檔案的變數宣告的作用範圍 (scope) 都侷限在檔案裡，不會真的成為全域變數，所以就算把 jQuery 掛在 ","window"," 物件內，仍無法解決問題。這個假設等未來對前端更熟悉後，再來嘗試驗證。","既然無法從單個檔案解決問題，就只好換個方向，嘗試使用設定檔解決問題。繼續嘗試 Google 尋找資料，得到大致有兩種解法，且都是可以運作的。","不管是何種解法，首先就是要透過 npm 安裝 jQuery：","第一種是使用 webpack plugin 的方式，透過 Provide Plugin ","http:\u002F\u002Fblog.fntsr.tw\u002Farticles\u002F363\u002F#fn-363-1","1"," 讓 jQuery 成為全域變數。編輯 webpack 的設定檔，在 module.exports.plugins 中加入 Webpack ProvidePlugins，並把 "," 這兩個全域變數指向 "," 套件庫。","第二種解法則是使用 expose-loader。首先先透過 npm 安裝 expose-loader：","然後編輯 webpack 的設定檔，在 module.exports.loaders 中加入下面的程式碼，把 "," 套件庫揭露 (expose) 成 "," 這兩個全域變數。","設定檔完成後，重新啟動伺服器。此時網頁仍會顯示 "," 的錯誤。這時打開網頁的腳本，加入下面的程式碼即可解決這個問題。","補充：後來在參考資料第二項的文章裡，發現還有許多其他解法，有興趣的可以前往該頁面閱讀。","http:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F29080148\u002Fexpose-jquery-to-real-window-object-with-webpack","Expose jQuery to real Window object with Webpack","http:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F28969861\u002Fmanaging-jquery-plugin-dependency-in-webpack","Managing Jquery plugin dependency in webpack","http:\u002F\u002Freact-china.org\u002Ft\u002Fwebpack-jquery-bootstrap\u002F1669","React China – 求大牛帮忙，用webpack 打包jquery、bootstrap时出错。","https:\u002F\u002Frhadow.github.io\u002F2015\u002F05\u002F30\u002Fwebpack-loaders-and-plugins\u002F","Rhadow’s Tech Note – 深入了解 Webpack Plugins","hr","「Provide Plugin 的主要功能是當在程式中遇到特定字元且沒被定義時會自動載入特定模組。」via Ref-4 ","http:\u002F\u002Fblog.fntsr.tw\u002Farticles\u002F363\u002F#fnref-363-1","img","↩","https:\u002F\u002Fs.w.org\u002Fimages\u002Fcore\u002Femoji\u002F14.0.0\u002Fsvg\u002F21a9.svg","Expose jQuery to global variable with Webpack",null))