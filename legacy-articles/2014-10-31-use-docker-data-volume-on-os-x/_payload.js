export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH){return {data:{"content-query-a1WYY0jpbS":{_path:"\u002Flegacy-articles\u002F2014-10-31-use-docker-data-volume-on-os-x",_dir:"legacy-articles",_draft:x,_partial:x,_locale:"en",_empty:x,title:I,description:g,excerpt:{type:J,children:[{type:a,tag:c,props:{},children:[{type:a,tag:e,props:{href:K,rel:[f]},children:[{type:b,value:L}]}]},{type:a,tag:c,props:{},children:[{type:b,value:M}]},{type:a,tag:N,props:{id:O},children:[{type:b,value:P}]},{type:a,tag:c,props:{},children:[{type:b,value:Q}]},{type:a,tag:j,props:{id:o},children:[{type:b,value:o}]},{type:a,tag:c,props:{},children:[{type:b,value:R}]},{type:a,tag:c,props:{},children:[{type:b,value:S}]},{type:a,tag:c,props:{},children:[{type:b,value:T},{type:a,tag:h,props:{},children:[{type:b,value:m}]},{type:b,value:U}]},{type:a,tag:c,props:{},children:[{type:b,value:V}]},{type:a,tag:c,props:{},children:[{type:a,tag:W,props:{alt:w,src:w},children:[]}]},{type:a,tag:j,props:{id:p},children:[{type:b,value:p}]},{type:a,tag:c,props:{},children:[{type:b,value:X},{type:a,tag:e,props:{href:Y,rel:[f]},children:[{type:b,value:Z}]},{type:b,value:_}]},{type:a,tag:c,props:{},children:[{type:b,value:$},{type:a,tag:h,props:{},children:[{type:b,value:aa}]},{type:b,value:ab},{type:a,tag:h,props:{},children:[{type:b,value:m}]},{type:b,value:ac}]},{type:a,tag:d,props:{code:y},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:b,value:y}]}]}]},{type:a,tag:j,props:{id:z},children:[{type:b,value:A}]},{type:a,tag:c,props:{},children:[{type:b,value:ad},{type:a,tag:h,props:{},children:[{type:b,value:m}]},{type:b,value:ae},{type:a,tag:h,props:{},children:[{type:b,value:m}]},{type:b,value:af}]},{type:a,tag:q,props:{id:r},children:[{type:b,value:r}]},{type:a,tag:c,props:{},children:[{type:b,value:ag}]},{type:a,tag:d,props:{code:B},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:b,value:B}]}]}]},{type:a,tag:q,props:{id:s},children:[{type:b,value:s}]},{type:a,tag:c,props:{},children:[{type:b,value:ah}]},{type:a,tag:c,props:{},children:[{type:b,value:ai},{type:a,tag:h,props:{},children:[{type:b,value:aj}]},{type:b,value:ak}]},{type:a,tag:d,props:{code:C},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:b,value:C}]}]}]},{type:a,tag:q,props:{id:t},children:[{type:b,value:t}]},{type:a,tag:c,props:{},children:[{type:b,value:al}]},{type:a,tag:d,props:{code:D},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:b,value:D}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:am}]},{type:a,tag:d,props:{code:E},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:b,value:E}]}]}]},{type:a,tag:j,props:{id:u},children:[{type:b,value:u}]},{type:a,tag:c,props:{},children:[{type:b,value:an}]},{type:a,tag:c,props:{},children:[{type:b,value:ao},{type:a,tag:e,props:{href:ap,rel:[f]},children:[{type:b,value:aq}]},{type:b,value:ar}]},{type:a,tag:c,props:{},children:[{type:b,value:as}]},{type:a,tag:j,props:{id:F},children:[{type:b,value:G}]},{type:a,tag:at,props:{},children:[{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:au,rel:[f]},children:[{type:b,value:av}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:aw,rel:[f]},children:[{type:b,value:ax}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:ay,rel:[f]},children:[{type:b,value:az}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:aA,rel:[f]},children:[{type:b,value:aB}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:aC,rel:[f]},children:[{type:b,value:aD}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:aE,rel:[f]},children:[{type:b,value:aF}]}]}]}]},title_en:aG,slug:"use-docker-data-volume-on-os-x",aliases:[I,aG],created_at:"2014-10-31T22:05:04.000Z",published_at:aH,updated_at:aH,tags:["docker"],moc:["Information Technology"],body:{type:J,children:[{type:a,tag:c,props:{},children:[{type:a,tag:e,props:{href:K,rel:[f]},children:[{type:b,value:L}]}]},{type:a,tag:c,props:{},children:[{type:b,value:M}]},{type:a,tag:N,props:{id:O},children:[{type:b,value:P}]},{type:a,tag:c,props:{},children:[{type:b,value:Q}]},{type:a,tag:j,props:{id:o},children:[{type:b,value:o}]},{type:a,tag:c,props:{},children:[{type:b,value:R}]},{type:a,tag:c,props:{},children:[{type:b,value:S}]},{type:a,tag:c,props:{},children:[{type:b,value:T},{type:a,tag:h,props:{},children:[{type:b,value:m}]},{type:b,value:U}]},{type:a,tag:c,props:{},children:[{type:b,value:V}]},{type:a,tag:c,props:{},children:[{type:a,tag:W,props:{alt:w,src:w},children:[]}]},{type:a,tag:j,props:{id:p},children:[{type:b,value:p}]},{type:a,tag:c,props:{},children:[{type:b,value:X},{type:a,tag:e,props:{href:Y,rel:[f]},children:[{type:b,value:Z}]},{type:b,value:_}]},{type:a,tag:c,props:{},children:[{type:b,value:$},{type:a,tag:h,props:{},children:[{type:b,value:aa}]},{type:b,value:ab},{type:a,tag:h,props:{},children:[{type:b,value:m}]},{type:b,value:ac}]},{type:a,tag:d,props:{code:y},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:a,tag:l,props:{class:v},children:[{type:a,tag:l,props:{},children:[{type:b,value:"$ boot2docker ssh 'ls -al \u002FUsers'\n# drwxr-xr-x    1 docker   staff          204 Mar 29  2014 .\n# drwxr-xr-x   17 root     root           400 Oct 31 10:29 ..\n# -rw-r--r--    1 docker   staff            0 Aug 25  2013 .localized\n# drwxrwxrwx    1 docker   staff          306 Oct 18 04:08 Shared\n# drwxr-xr-x    1 docker   staff         3774 Oct 31 17:52 user5566"}]}]}]}]}]},{type:a,tag:j,props:{id:z},children:[{type:b,value:A}]},{type:a,tag:c,props:{},children:[{type:b,value:ad},{type:a,tag:h,props:{},children:[{type:b,value:m}]},{type:b,value:ae},{type:a,tag:h,props:{},children:[{type:b,value:m}]},{type:b,value:af}]},{type:a,tag:q,props:{id:r},children:[{type:b,value:r}]},{type:a,tag:c,props:{},children:[{type:b,value:ag}]},{type:a,tag:d,props:{code:B},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:a,tag:l,props:{class:v},children:[{type:a,tag:l,props:{},children:[{type:b,value:"$ mkdir ~\u002Fdocker-volume\u002Ftest\n$ touch ~\u002Fdocker-volume\u002Ftest\u002Fvolume-test.md\n$ ls -al ~\u002Fdocker-volume\u002Ftest\n# total 0\n# drwxr-xr-x  3 user5566  staff  102 11  1 02:01 .\n# drwxr-xr-x  3 user5566  staff  102 11  1 02:01 ..\n# -rw-r--r--  1 user5566  staff    0 11  1 02:01 volume-test.md"}]}]}]}]}]},{type:a,tag:q,props:{id:s},children:[{type:b,value:s}]},{type:a,tag:c,props:{},children:[{type:b,value:ah}]},{type:a,tag:c,props:{},children:[{type:b,value:ai},{type:a,tag:h,props:{},children:[{type:b,value:aj}]},{type:b,value:ak}]},{type:a,tag:d,props:{code:C},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:a,tag:l,props:{class:v},children:[{type:a,tag:l,props:{},children:[{type:b,value:"# 建立 Container\n$ docker run -it -v ~\u002Fdocker-volume\u002Ftest:\u002Fvolume_test ubuntu:latest \u002Fbin\u002Fbash\nroot@d0d097097657:\n\n# 測試 data volume 是否成功\nroot@d0d097097657: ls -al \u002Fvolume_test\u002F\n# total 4\n# drwxr-xr-x  1 1000 staff  102 Oct 31  2014 .\u002F\n# drwxr-xr-x 50 root root  4096 Oct 31 17:51 ..\u002F\n# -rw-r--r--  1 1000 staff    0 Oct 31  2014 volume-test.md"}]}]}]}]}]},{type:a,tag:q,props:{id:t},children:[{type:b,value:t}]},{type:a,tag:c,props:{},children:[{type:b,value:al}]},{type:a,tag:d,props:{code:D},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:a,tag:l,props:{class:v},children:[{type:a,tag:l,props:{},children:[{type:b,value:"# OS X\n$ touch ~\u002Fdocker-volume\u002Ftest\u002Ffile-from-osx.md\n\n# Container\nroot@d0d097097657: touch \u002Fvolume_test\u002Ffile-from-container.md"}]}]}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:am}]},{type:a,tag:d,props:{code:E},children:[{type:a,tag:k,props:{},children:[{type:a,tag:d,props:{__ignoreMap:g},children:[{type:a,tag:l,props:{class:v},children:[{type:a,tag:l,props:{},children:[{type:b,value:"# OS X 確認\n$ ls -al ~\u002Fdocker-volume\u002Ftest\n# total 0\n# drwxr-xr-x  5 user5566  staff   170B 11  1 02:12 .\n# drwxr-xr-x  3 user5566  staff   102B 11  1 02:01 ..\n# -rw-r--r--  1 user5566  staff     0B 11  1 01:58 file-from-container.md\n# -rw-r--r--  1 user5566  staff     0B 11  1 02:12 file-from-osx.md\n# -rw-r--r--  1 user5566  staff     0B 11  1 02:01 volume-test.md\n\n# Container 確認\nroot@d0d097097657: ls -al \u002Fvolume_test\u002F\n# total 4\n# drwxr-xr-x  1 1000 staff  170 Oct 31  2014 .\n# drwxr-xr-x 50 root root  4096 Oct 31 17:51 ..\n# -rw-r--r--  1 1000 staff    0 Oct 31 17:58 file-from-container.md\n# -rw-r--r--  1 1000 staff    0 Oct 31  2014 file-from-osx.md\n# -rw-r--r--  1 1000 staff    0 Oct 31  2014 volume-test.md"}]}]}]}]}]},{type:a,tag:j,props:{id:u},children:[{type:b,value:u}]},{type:a,tag:c,props:{},children:[{type:b,value:an}]},{type:a,tag:c,props:{},children:[{type:b,value:ao},{type:a,tag:e,props:{href:ap,rel:[f]},children:[{type:b,value:aq}]},{type:b,value:ar}]},{type:a,tag:c,props:{},children:[{type:b,value:as}]},{type:a,tag:j,props:{id:F},children:[{type:b,value:G}]},{type:a,tag:at,props:{},children:[{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:au,rel:[f]},children:[{type:b,value:av}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:aw,rel:[f]},children:[{type:b,value:ax}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:ay,rel:[f]},children:[{type:b,value:az}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:aA,rel:[f]},children:[{type:b,value:aB}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:aC,rel:[f]},children:[{type:b,value:aD}]}]},{type:a,tag:i,props:{},children:[{type:a,tag:e,props:{href:aE,rel:[f]},children:[{type:b,value:aF}]}]}]}],toc:{title:g,searchDepth:n,depth:n,links:[{id:o,depth:n,text:o},{id:p,depth:n,text:p},{id:z,depth:n,text:A,children:[{id:r,depth:H,text:r},{id:s,depth:H,text:s},{id:t,depth:H,text:t}]},{id:u,depth:n,text:u},{id:F,depth:n,text:G}]}},_type:"markdown",_id:"garden:legacy-articles:2014-10-31-use-docker-data-volume-on-os-x.md",_source:"garden",_file:"legacy-articles\u002F2014-10-31-use-docker-data-volume-on-os-x.md",_extension:"md"}},prerenderedAt:void 0}}("element","text","p","code","a","nofollow","","code-inline","li","h2","pre","span","\u002FUsers",2,"前言","前置作業","h3","首先","接著","最後","後記","line","2014-10-31-use-docker-data-volume-on-os-x-001-300x225.png",false,"$ boot2docker ssh 'ls -al \u002FUsers'\n# drwxr-xr-x    1 docker   staff          204 Mar 29  2014 .\n# drwxr-xr-x   17 root     root           400 Oct 31 10:29 ..\n# -rw-r--r--    1 docker   staff            0 Aug 25  2013 .localized\n# drwxrwxrwx    1 docker   staff          306 Oct 18 04:08 Shared\n# drwxr-xr-x    1 docker   staff         3774 Oct 31 17:52 user5566\n","data-volume","Data Volume","$ mkdir ~\u002Fdocker-volume\u002Ftest\n$ touch ~\u002Fdocker-volume\u002Ftest\u002Fvolume-test.md\n$ ls -al ~\u002Fdocker-volume\u002Ftest\n# total 0\n# drwxr-xr-x  3 user5566  staff  102 11  1 02:01 .\n# drwxr-xr-x  3 user5566  staff  102 11  1 02:01 ..\n# -rw-r--r--  1 user5566  staff    0 11  1 02:01 volume-test.md\n","# 建立 Container\n$ docker run -it -v ~\u002Fdocker-volume\u002Ftest:\u002Fvolume_test ubuntu:latest \u002Fbin\u002Fbash\nroot@d0d097097657:\n\n# 測試 data volume 是否成功\nroot@d0d097097657: ls -al \u002Fvolume_test\u002F\n# total 4\n# drwxr-xr-x  1 1000 staff  102 Oct 31  2014 .\u002F\n# drwxr-xr-x 50 root root  4096 Oct 31 17:51 ..\u002F\n# -rw-r--r--  1 1000 staff    0 Oct 31  2014 volume-test.md\n","# OS X\n$ touch ~\u002Fdocker-volume\u002Ftest\u002Ffile-from-osx.md\n\n# Container\nroot@d0d097097657: touch \u002Fvolume_test\u002Ffile-from-container.md\n","# OS X 確認\n$ ls -al ~\u002Fdocker-volume\u002Ftest\n# total 0\n# drwxr-xr-x  5 user5566  staff   170B 11  1 02:12 .\n# drwxr-xr-x  3 user5566  staff   102B 11  1 02:01 ..\n# -rw-r--r--  1 user5566  staff     0B 11  1 01:58 file-from-container.md\n# -rw-r--r--  1 user5566  staff     0B 11  1 02:12 file-from-osx.md\n# -rw-r--r--  1 user5566  staff     0B 11  1 02:01 volume-test.md\n\n# Container 確認\nroot@d0d097097657: ls -al \u002Fvolume_test\u002F\n# total 4\n# drwxr-xr-x  1 1000 staff  170 Oct 31  2014 .\n# drwxr-xr-x 50 root root  4096 Oct 31 17:51 ..\n# -rw-r--r--  1 1000 staff    0 Oct 31 17:58 file-from-container.md\n# -rw-r--r--  1 1000 staff    0 Oct 31  2014 file-from-osx.md\n# -rw-r--r--  1 1000 staff    0 Oct 31  2014 volume-test.md\n","reference","Reference",3,"在 OS X 上，透過 boot2docker 使用 docker 的 data volume","root","http:\u002F\u002Fblog.fntsr.tw\u002Farticles\u002F175\u002F","Site is undergoing maintenance","Docker 1.3 在 2014-10-16 釋出。其中，在方便性上最讓人注目的更新，除了 exec 指令以外，就是 boot2docker 在 Mac OS X 資料夾分享功能的改進，本文主要是針對後者去做講述。","h6","2017-01-16-補充","2017-01-16 補充","有別於以往，現在 Docker 已經到了 1.12.6，在 Mac OS X 上的安裝方式也不再是 boot2docker，而是另外有安裝程式去做最佳化，包括 data volume 的使用也更加方便了，所以關於 boot2docker 的操作已經不適用了。不過現在的掛載原理其實是大同小異的，本篇提到在 Mac OS X 是如何建立 Volume 功能的概念還是可以去了解的。","由於 Docker 只支持 Linux 作業系統，倘若要於 OS X 使用 Docker ，會使用 boot2docker 這個工具，在 VirtualBox 上建立一個 boot2docker-vm 的映像檔。然後，透過這個 Linux VM 去操作 Docker。","但是，在 Docker 1.3 之前，因為 boot2docker 的映像檔沒有支援 VirtualBox Guest Additions ，所以無法使用 Virtualbox 分享資料夾的功能，將 OS X 的資料夾掛載到虛擬機器裡。因此必須另外自行製作有支援該 VirtualBox Guest Additions 的映像檔（或是下載別人做好的），然後設定 Virtual Box ，把 OS X 的資料夾自動掛載到虛擬機器裡。","不過，隨著 Docker 1.3 釋出，boot2docker 也一併將這個功能引入。使用者可以直接透過 boot2docker 的映像檔使用這功能，而且它會自動把 "," 資料夾掛載到虛擬機器裡，不需要另外設定！","下圖是在 OS X 上，使用 boot2docker 建立 data volume 的示意圖，希望能幫助各位了解運作原理。","img","在開始前，必須先安裝或更新 docker 和 boot2docker 到 1.3.0 以上的版本，更新的方法在我前一篇文章 ","http:\u002F\u002Fblog.fntsr.tw\u002Farticles\u002F2014\u002F10\u002F31\u002Fupgrade-docker-and-boot2docker-on-os-x\u002F","Upgrade Docker and Boot2docker on OS X"," 已經說明了，可以參考看看，這邊就不多贅述。","接著在 Terminal 下 ","$ boot2docker ssh 'ls -al \u002FUsers'"," 的指令，確認是否已經成功掛載。如果成功，應該會出現 "," 的目錄。","本文利用 ubuntu 的 images 去做建立 data volume 的示範。開始前，再次強調，因為 boot2docker 只有把 OS X 的 "," 資料夾掛載到虛擬機上，所以 data volume 的 host 資料夾必須在 "," 底下。","把想建立 data volume 的資料夾與檔案準備好。","建立一個 Container 。","並且，將剛才建立的資料夾，透過 data volume 掛載到 ","\u002Fvolume_test"," 的位置。並且確認是否成功。","在 OS X 和 Container 中，都建立一個檔案，以測試同步與否。","看起來是成功了，歡呼囉！","Data Volume 是 docker 在應用 LXC 時，一個非常重要的功能。在初學 Docker 前，因為不懂 boot2docker 的運作原理，在這功能鬼打牆好多次，都無法成功。後來知道原理後，卻覺得在 OS X 實作這功能太麻煩了，改用 VPS 直接用 Linux 去玩 Docker 。還好，現在 boot2docker 已經做好這件事了，讓我們可以更快樂的在 OS X 上面玩 Docker ，尤其是進行開發啦！(rock)","剛好，這塊是我在 ","http:\u002F\u002Fblog.fntsr.tw\u002Farticles\u002F2014\u002F10\u002F18\u002Fhow-to-deploy-php-projects-with-docker\u002F","PHPConf 演講"," 裡，只有稍微帶過的部分，希望這篇文章能補足當時因為時間關係，而沒講明的部分。在之後，我也會把握空閒時間，多寫幾篇有關 Docker 的文章，補足演講的缺口，希望大家會喜歡。 =D","最後，祝各位在 OS X 上，愜意地 Docker 囉！","ul","https:\u002F\u002Fmedium.com\u002Fboot2docker-lightweight-linux-for-docker\u002Fboot2docker-together-with-virtualbox-guest-additions-da1e3ab2465c","boot2docker together with VirtualBox Guest Additions: How to mount \u002FUsers into boot2docker","https:\u002F\u002Fdocs.docker.com\u002Fuserguide\u002Fdockervolumes\u002F","Managing Data in Containers","https:\u002F\u002Fblog.docker.com\u002F2014\u002F10\u002Fdocker-1-3-signed-images-process-injection-security-options-mac-shared-directories\u002F","DOCKER 1.3: SIGNED IMAGES, PROCESS INJECTION, SECURITY OPTIONS, MAC SHARED DIRECTORIES","https:\u002F\u002Fgithub.com\u002Fboot2docker\u002Fboot2docker","boot2docker\u002Fboot2docker","https:\u002F\u002Fgithub.com\u002Fboot2docker\u002Fboot2docker\u002Fissues\u002F282#issuecomment-44601104","Volumes: vboxguest + vboxsf modules #282","https:\u002F\u002Fwww.facebook.com\u002Fgroups\u002Fdocker.taipei\u002Fpermalink\u002F1522080854693939\u002F","Post of Docker.Taipei","Use docker data volume on OS X",null))