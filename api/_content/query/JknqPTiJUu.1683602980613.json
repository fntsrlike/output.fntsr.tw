{"_path":"/legacy-articles/2014-11-08-docker-cant-resolve-github-com","_dir":"legacy-articles","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Docker 無法解析 github.com","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://blog.fntsr.tw/articles/183/","rel":["nofollow"]},"children":[{"type":"text","value":"Site is undergoing maintenance"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Ubuntu 環境下，使用 Docker 架設 Discourse 時遇到了問題，錯誤訊息如下："}]},{"type":"element","tag":"code","props":{"code":"fatal: unable to access 'https://github.com/SamSaffron/pups.git/': Could not resolve host: github.com\nfb4e120a8b107f0ec1e07b3e21a3a1f31e3a5879d30da65242e0333b30533efa\nFAILED TO BOOTSTRAP\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fatal: unable to access 'https://github.com/SamSaffron/pups.git/': Could not resolve host: github.com\nfb4e120a8b107f0ec1e07b3e21a3a1f31e3a5879d30da65242e0333b30533efa\nFAILED TO BOOTSTRAP\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個問題的是 DNS 相關的錯誤，我們只要幫 Docker 指定 DNS Server 即可。解決辦法依照你安裝 Docker 的方式而異。"}]},{"type":"element","tag":"h2","props":{"id":"via-ubuntu-package"},"children":[{"type":"text","value":"via Ubuntu Package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先，打開 docker 的設定檔。"}]},{"type":"element","tag":"code","props":{"code":"$ vim /etc/default/docker\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ vim /etc/default/docker\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然後，將下面這行取消註解。"}]},{"type":"element","tag":"code","props":{"code":"DOCKER_OPTS=\"--dns 8.8.8.8 --dns 8.8.4.4\"\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"DOCKER_OPTS=\"--dns 8.8.8.8 --dns 8.8.4.4\"\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後，重啟 Docker Server"}]},{"type":"element","tag":"code","props":{"code":"$ sudo service docker restart\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ sudo service docker restart\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"via-binary"},"children":[{"type":"text","value":"via Binary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你是透過二進位檔案執行 Docker server，你只需在啟動 Docker daemon 時，加上 DNS 參數即可。如下："}]},{"type":"element","tag":"code","props":{"code":"$ sudo docker -d -D --dns 8.8.8.8 --dns 8.8.4.4 &\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ sudo docker -d -D --dns 8.8.8.8 --dns 8.8.4.4 &\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"8.8.8.8"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"8.8.4.4"}]},{"type":"text","value":"都是 Google 的 DNS，你也可以增修你喜歡的 DNS Server。"}]},{"type":"element","tag":"h2","props":{"id":"reference"},"children":[{"type":"text","value":"Reference"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.digitalocean.com/community/tutorials/how-to-install-discourse-on-ubuntu-14-04","rel":["nofollow"]},"children":[{"type":"text","value":"How To Install Discourse on Ubuntu 14.04"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://meta.discourse.org/t/afatal-unable-to-access-https-github-com-samsaffron-pups-git-could-not-resolve-host-github-com/18611","rel":["nofollow"]},"children":[{"type":"text","value":"A fatal: unable to access ‘….’: Could not resolve host: github.com"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://stackoverflow.com/questions/24151129/docker-network-calls-fail-during-image-build-on-corporate-network","rel":["nofollow"]},"children":[{"type":"text","value":"Docker – Network calls fail during image build on corporate network"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://linux.vbird.org/linux_server/0350dns.php#DNS_resolver_file","rel":["nofollow"]},"children":[{"type":"text","value":"鳥哥的 Linux 私房菜 – 第十九章、主機名稱控制者： DNS 伺服器"}]}]}]}]},"title_en":"Docker can't resolve github.com","slug":"docker-cant-resolve-github-com","aliases":["Docker 無法解析 github.com","Docker can't resolve github.com"],"created_at":"2014-11-08T02:30:19.000Z","published_at":null,"updated_at":null,"tags":["docker"],"moc":["Information Technology"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://blog.fntsr.tw/articles/183/","rel":["nofollow"]},"children":[{"type":"text","value":"Site is undergoing maintenance"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Ubuntu 環境下，使用 Docker 架設 Discourse 時遇到了問題，錯誤訊息如下："}]},{"type":"element","tag":"code","props":{"code":"fatal: unable to access 'https://github.com/SamSaffron/pups.git/': Could not resolve host: github.com\nfb4e120a8b107f0ec1e07b3e21a3a1f31e3a5879d30da65242e0333b30533efa\nFAILED TO BOOTSTRAP\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"fatal: unable to access 'https://github.com/SamSaffron/pups.git/': Could not resolve host: github.com\nfb4e120a8b107f0ec1e07b3e21a3a1f31e3a5879d30da65242e0333b30533efa\nFAILED TO BOOTSTRAP"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個問題的是 DNS 相關的錯誤，我們只要幫 Docker 指定 DNS Server 即可。解決辦法依照你安裝 Docker 的方式而異。"}]},{"type":"element","tag":"h2","props":{"id":"via-ubuntu-package"},"children":[{"type":"text","value":"via Ubuntu Package"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先，打開 docker 的設定檔。"}]},{"type":"element","tag":"code","props":{"code":"$ vim /etc/default/docker\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"$ vim /etc/default/docker"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然後，將下面這行取消註解。"}]},{"type":"element","tag":"code","props":{"code":"DOCKER_OPTS=\"--dns 8.8.8.8 --dns 8.8.4.4\"\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"DOCKER_OPTS=\"--dns 8.8.8.8 --dns 8.8.4.4\""}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後，重啟 Docker Server"}]},{"type":"element","tag":"code","props":{"code":"$ sudo service docker restart\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"$ sudo service docker restart"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"via-binary"},"children":[{"type":"text","value":"via Binary"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你是透過二進位檔案執行 Docker server，你只需在啟動 Docker daemon 時，加上 DNS 參數即可。如下："}]},{"type":"element","tag":"code","props":{"code":"$ sudo docker -d -D --dns 8.8.8.8 --dns 8.8.4.4 &\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"$ sudo docker -d -D --dns 8.8.8.8 --dns 8.8.4.4 &"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"8.8.8.8"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"8.8.4.4"}]},{"type":"text","value":"都是 Google 的 DNS，你也可以增修你喜歡的 DNS Server。"}]},{"type":"element","tag":"h2","props":{"id":"reference"},"children":[{"type":"text","value":"Reference"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.digitalocean.com/community/tutorials/how-to-install-discourse-on-ubuntu-14-04","rel":["nofollow"]},"children":[{"type":"text","value":"How To Install Discourse on Ubuntu 14.04"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://meta.discourse.org/t/afatal-unable-to-access-https-github-com-samsaffron-pups-git-could-not-resolve-host-github-com/18611","rel":["nofollow"]},"children":[{"type":"text","value":"A fatal: unable to access ‘….’: Could not resolve host: github.com"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://stackoverflow.com/questions/24151129/docker-network-calls-fail-during-image-build-on-corporate-network","rel":["nofollow"]},"children":[{"type":"text","value":"Docker – Network calls fail during image build on corporate network"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://linux.vbird.org/linux_server/0350dns.php#DNS_resolver_file","rel":["nofollow"]},"children":[{"type":"text","value":"鳥哥的 Linux 私房菜 – 第十九章、主機名稱控制者： DNS 伺服器"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"via-ubuntu-package","depth":2,"text":"via Ubuntu Package"},{"id":"via-binary","depth":2,"text":"via Binary"},{"id":"reference","depth":2,"text":"Reference"}]}},"_type":"markdown","_id":"garden:legacy-articles:2014-11-08-docker-cant-resolve-github-com.md","_source":"garden","_file":"legacy-articles/2014-11-08-docker-cant-resolve-github-com.md","_extension":"md"}