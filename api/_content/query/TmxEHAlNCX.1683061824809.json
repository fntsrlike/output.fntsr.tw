{"_path":"/legacy-articles/2021-07-17-php-convention-of-wordpress","_dir":"legacy-articles","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"WordPress 的 PHP風格指南摘要","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近想要更新自己的 Wordpress 主題，所以又嘗試去重新熟悉有關 PHP 的開發與 WordPress 的程式設計風格指南。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇是 Wordpress 的 PHP 風格指南的摘要，這些摘要都是來自我對指南理解的簡短筆記，並不一定等於原話。算是協助我之後要重新進入這個開發情境的回憶索引吧！想要參考程式碼範例與暸解這樣制定的原因，請直接參考"},{"type":"element","tag":"a","props":{"href":"https://developer.wordpress.org/coding-standards/wordpress-coding-standards/php/","rel":["nofollow"]},"children":[{"type":"text","value":"原文指南"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此篇摘要為初版，未來可能會為了方便記憶去編寫更好閱讀的版本。"}]},{"type":"element","tag":"h2","props":{"id":"php風格指南摘要"},"children":[{"type":"text","value":"PHP風格指南摘要"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Single and Double Quotes"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"預設使用單引號 ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'"}]},{"type":"text","value":")，有變數才用雙引號 ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\""}]},{"type":"text","value":")。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"避免在字串中使用跳脫引號("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\\\""}]},{"type":"text","value":")。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"放在 HTML 屬性的變數必須使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"esc_attr()"}]},{"type":"text","value":" 去跳脫。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indentation"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"行首縮排應使用 tab 而不是 space。（註：我本人是 space 派的 QQ)。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在行首縮排使用 tab 排版，在行中使用 space 對齊。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"關聯式陣列，每個項目應該都要獨立一行，且必須有逗號放在行尾。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"switch 區塊中，case 前必有一縮排，case 區塊內的敘述則再一層縮排。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Brace Style"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"前大括號應放在敘述的行尾，而不是獨立一行。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"後大括號後面若仍有敘述，則為同一行 (eg. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"} else"}]},{"type":"text","value":")。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"就算區塊裡只有一行敘述，仍需使用大括號。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"elseif"}]},{"type":"text","value":", not "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"else if"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Declaring Arrays"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用較完整的陣列宣告語法，確保更好的可讀性，對視覺障礙者也較友善。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[ 1, 2, 3 ]"}]},{"type":"text","value":" -> "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"array( 1, 2, 3 )"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Closures (Anonymous Functions)"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"不要透過匿名函式傳遞 filter 或 action 的 callback，這樣會導致無法移除 filter 或 action。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Multiline Function Calls"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果函式呼叫有需要多行呈現的情況，每項參數與註解，都應該獨立一行，且不得超過一行。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Regular Expressions"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preg_replace_callback"}]},{"type":"text","value":"，而不用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/e"}]},{"type":"text","value":"，後者會帶來安全性問題。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用單引號包覆正則表達式的敘述。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Opening and Closing PHP Tags"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 PHP 程式碼多行的情況下，PHP 的開合標籤應獨立一行。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"No Shorthand PHP Tags"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必使用完整的 PHP 開合標籤 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<?php"}]},{"type":"text","value":"，而不使用短語法 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<?"}]},{"type":"text","value":"。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Remove Trailing Spaces"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必移除行尾多餘的空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"盡量在檔案終行使用 PHP 收合標籤。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Space Usage"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必在逗號之後加上空白 (space)。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必在邏輯、比較、字串、賦值運算元兩側加上空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在小括號內側若有敘述或引數，務必在內側兩邊加上空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"if"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"elseif"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"foreach"}]},{"type":"text","value":" , "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"for"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"switch"}]},{"type":"text","value":" 這類語法的小括號外面兩側加上空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"函式名稱與前小括號之間不用留空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"強制轉型的型別務必使用小寫，並使用短寫。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在參考陣列用的引數中，只有在索引是使用變數時，才需要在內側兩邊都加空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"switch"}]},{"type":"text","value":" 區塊中， case 的索引與冒號之間不該留空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"承上，在函式定義返回值的型別時用的冒號，前方也不該留空白。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Formatting SQL statements"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"SQL 的關鍵字永遠以大寫書寫。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$wpdb->prepare()"}]},{"type":"text","value":" 處理含有變數的 SQL 敘述。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Database Queries"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"避免直接操作資料庫，而是使用既有的函式取得需要的值。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Naming Conventions"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"變數、函式與 action/filter 永遠使用全小寫的 Snake Case"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"類別名稱使用每個詞首字大寫的 Snake Case，若是縮寫則永遠使用大寫表示。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"常數使用全大寫的 Snake Case。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"檔案名稱使用 Kebab Case。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Class 檔案名稱則需要加上 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"class-"}]},{"type":"text","value":" 作為前綴。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"呈上，如果該類別是 BackPress 的一部分，在改用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"class."}]},{"type":"text","value":" 作為前綴。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若是為在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"wp-includes/"}]},{"type":"text","value":" 中，包含 template tags 的檔案，則應該以 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-template"}]},{"type":"text","value":" 作為後綴。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Self-Explanatory Flag Values for Function Arguments"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在函式的引數中，盡量避免使用布林型別，而是使用字串型別來增加語意。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果函式需要許多參數，則建議可以改用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$args"}]},{"type":"text","value":" 陣列替代。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Interpolation for Naming Dynamic Hooks"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若使用動態命名的 Hooks 時，務必用大括號將不同的變數區隔出來，以增加可讀性 (eg. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{$new_status}_{$post->post_type}"}]},{"type":"text","value":")。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ternary Operator"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在使用三元運算子時，永遠用來測試是否相等，而不是測試是否相異。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"僅在賦值的情境使用三元運算子，而不要在三元運算子中執行敘述、函式。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Yoda Conditions"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在條件式使用使用相等或相異的運算子時，永遠將變數放在右側。（儘管閱讀會不習慣，但在除錯時很有用）"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Clever Code"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"編寫敘述時，可讀性的重要程度永遠高過於使用奇巧、或過於簡潔的方式"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必使用嚴謹的比較運算子 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"==="}]},{"type":"text","value":"，除了必要時才使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"=="}]},{"type":"text","value":"，以避免不合預期的行為。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要在條件式中賦值。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 switch 敘述中，可以使用無敘述的 case 讓他往下執行。若是有敘述的 case 仍希望往下執行，則需要顯性的註解去表示是刻意不寫 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"break"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"goto"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"eval()"}]},{"type":"text","value":" 與 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create_function()"}]},{"type":"text","value":"。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Error Control Operator @"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@"}]},{"type":"text","value":" 去忽略錯誤訊息。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Don’t extract()"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"extract()"}]},{"type":"text","value":"，他會導致難以除錯。"}]}]}]}]}]},"title_en":"PHP convention of WordPress","slug":"php-convention-of-wordpress","aliases":["WordPress 的 PHP風格指南摘要","PHP convention of WordPress"],"created_at":"2021-07-17T17:29:35.000Z","published_at":null,"updated_at":null,"tags":["excerpt","php","wordpress"],"moc":["Information Technology"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近想要更新自己的 Wordpress 主題，所以又嘗試去重新熟悉有關 PHP 的開發與 WordPress 的程式設計風格指南。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇是 Wordpress 的 PHP 風格指南的摘要，這些摘要都是來自我對指南理解的簡短筆記，並不一定等於原話。算是協助我之後要重新進入這個開發情境的回憶索引吧！想要參考程式碼範例與暸解這樣制定的原因，請直接參考"},{"type":"element","tag":"a","props":{"href":"https://developer.wordpress.org/coding-standards/wordpress-coding-standards/php/","rel":["nofollow"]},"children":[{"type":"text","value":"原文指南"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此篇摘要為初版，未來可能會為了方便記憶去編寫更好閱讀的版本。"}]},{"type":"element","tag":"h2","props":{"id":"php風格指南摘要"},"children":[{"type":"text","value":"PHP風格指南摘要"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Single and Double Quotes"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"預設使用單引號 ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'"}]},{"type":"text","value":")，有變數才用雙引號 ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\""}]},{"type":"text","value":")。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"避免在字串中使用跳脫引號("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\\\""}]},{"type":"text","value":")。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"放在 HTML 屬性的變數必須使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"esc_attr()"}]},{"type":"text","value":" 去跳脫。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Indentation"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"行首縮排應使用 tab 而不是 space。（註：我本人是 space 派的 QQ)。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在行首縮排使用 tab 排版，在行中使用 space 對齊。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"關聯式陣列，每個項目應該都要獨立一行，且必須有逗號放在行尾。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"switch 區塊中，case 前必有一縮排，case 區塊內的敘述則再一層縮排。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Brace Style"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"前大括號應放在敘述的行尾，而不是獨立一行。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"後大括號後面若仍有敘述，則為同一行 (eg. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"} else"}]},{"type":"text","value":")。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"就算區塊裡只有一行敘述，仍需使用大括號。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"elseif"}]},{"type":"text","value":", not "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"else if"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Declaring Arrays"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用較完整的陣列宣告語法，確保更好的可讀性，對視覺障礙者也較友善。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[ 1, 2, 3 ]"}]},{"type":"text","value":" -> "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"array( 1, 2, 3 )"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Closures (Anonymous Functions)"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"不要透過匿名函式傳遞 filter 或 action 的 callback，這樣會導致無法移除 filter 或 action。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Multiline Function Calls"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果函式呼叫有需要多行呈現的情況，每項參數與註解，都應該獨立一行，且不得超過一行。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Regular Expressions"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preg_replace_callback"}]},{"type":"text","value":"，而不用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/e"}]},{"type":"text","value":"，後者會帶來安全性問題。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用單引號包覆正則表達式的敘述。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Opening and Closing PHP Tags"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 PHP 程式碼多行的情況下，PHP 的開合標籤應獨立一行。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"No Shorthand PHP Tags"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必使用完整的 PHP 開合標籤 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<?php"}]},{"type":"text","value":"，而不使用短語法 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<?"}]},{"type":"text","value":"。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Remove Trailing Spaces"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必移除行尾多餘的空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"盡量在檔案終行使用 PHP 收合標籤。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Space Usage"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必在逗號之後加上空白 (space)。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必在邏輯、比較、字串、賦值運算元兩側加上空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在小括號內側若有敘述或引數，務必在內側兩邊加上空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"if"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"elseif"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"foreach"}]},{"type":"text","value":" , "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"for"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"switch"}]},{"type":"text","value":" 這類語法的小括號外面兩側加上空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"函式名稱與前小括號之間不用留空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"強制轉型的型別務必使用小寫，並使用短寫。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在參考陣列用的引數中，只有在索引是使用變數時，才需要在內側兩邊都加空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"switch"}]},{"type":"text","value":" 區塊中， case 的索引與冒號之間不該留空白。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"承上，在函式定義返回值的型別時用的冒號，前方也不該留空白。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Formatting SQL statements"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"SQL 的關鍵字永遠以大寫書寫。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$wpdb->prepare()"}]},{"type":"text","value":" 處理含有變數的 SQL 敘述。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Database Queries"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"避免直接操作資料庫，而是使用既有的函式取得需要的值。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Naming Conventions"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"變數、函式與 action/filter 永遠使用全小寫的 Snake Case"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"類別名稱使用每個詞首字大寫的 Snake Case，若是縮寫則永遠使用大寫表示。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"常數使用全大寫的 Snake Case。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"檔案名稱使用 Kebab Case。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Class 檔案名稱則需要加上 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"class-"}]},{"type":"text","value":" 作為前綴。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"呈上，如果該類別是 BackPress 的一部分，在改用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"class."}]},{"type":"text","value":" 作為前綴。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若是為在 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"wp-includes/"}]},{"type":"text","value":" 中，包含 template tags 的檔案，則應該以 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-template"}]},{"type":"text","value":" 作為後綴。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Self-Explanatory Flag Values for Function Arguments"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在函式的引數中，盡量避免使用布林型別，而是使用字串型別來增加語意。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果函式需要許多參數，則建議可以改用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$args"}]},{"type":"text","value":" 陣列替代。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Interpolation for Naming Dynamic Hooks"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若使用動態命名的 Hooks 時，務必用大括號將不同的變數區隔出來，以增加可讀性 (eg. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{$new_status}_{$post->post_type}"}]},{"type":"text","value":")。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ternary Operator"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在使用三元運算子時，永遠用來測試是否相等，而不是測試是否相異。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"僅在賦值的情境使用三元運算子，而不要在三元運算子中執行敘述、函式。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Yoda Conditions"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在條件式使用使用相等或相異的運算子時，永遠將變數放在右側。（儘管閱讀會不習慣，但在除錯時很有用）"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Clever Code"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"編寫敘述時，可讀性的重要程度永遠高過於使用奇巧、或過於簡潔的方式"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"務必使用嚴謹的比較運算子 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"==="}]},{"type":"text","value":"，除了必要時才使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"=="}]},{"type":"text","value":"，以避免不合預期的行為。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要在條件式中賦值。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 switch 敘述中，可以使用無敘述的 case 讓他往下執行。若是有敘述的 case 仍希望往下執行，則需要顯性的註解去表示是刻意不寫 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"break"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"goto"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"eval()"}]},{"type":"text","value":" 與 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create_function()"}]},{"type":"text","value":"。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Error Control Operator @"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@"}]},{"type":"text","value":" 去忽略錯誤訊息。"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Don’t extract()"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"永遠不要使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"extract()"}]},{"type":"text","value":"，他會導致難以除錯。"}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"php風格指南摘要","depth":2,"text":"PHP風格指南摘要"}]}},"_type":"markdown","_id":"garden:legacy-articles:2021-07-17-php-convention-of-wordpress.md","_source":"garden","_file":"legacy-articles/2021-07-17-php-convention-of-wordpress.md","_extension":"md"}